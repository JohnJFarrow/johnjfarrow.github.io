<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Making GIF Files with Unreal Engine | unrealcode.net</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="How to use the Sequencer in Unreal Engine to create GIF files">
    
    <link rel="preload" href="/assets/css/0.styles.5fbecda8.css" as="style"><link rel="preload" href="/assets/js/app.767e6ba3.js" as="script"><link rel="preload" href="/assets/js/3.5e27fb36.js" as="script"><link rel="preload" href="/assets/js/2.32bfe7ad.js" as="script"><link rel="preload" href="/assets/js/19.c591fda9.js" as="script"><link rel="prefetch" href="/assets/js/10.49e97280.js"><link rel="prefetch" href="/assets/js/11.6e4ef963.js"><link rel="prefetch" href="/assets/js/12.0d1be04c.js"><link rel="prefetch" href="/assets/js/13.344a1b1b.js"><link rel="prefetch" href="/assets/js/14.73f9dc1c.js"><link rel="prefetch" href="/assets/js/15.abb5f017.js"><link rel="prefetch" href="/assets/js/16.fc316c7e.js"><link rel="prefetch" href="/assets/js/17.1bc7529e.js"><link rel="prefetch" href="/assets/js/18.81aca668.js"><link rel="prefetch" href="/assets/js/20.95fc594e.js"><link rel="prefetch" href="/assets/js/21.4d0aa89e.js"><link rel="prefetch" href="/assets/js/22.68abd372.js"><link rel="prefetch" href="/assets/js/23.fc14dad7.js"><link rel="prefetch" href="/assets/js/24.d13cbd74.js"><link rel="prefetch" href="/assets/js/25.609789b6.js"><link rel="prefetch" href="/assets/js/26.69fef5bb.js"><link rel="prefetch" href="/assets/js/27.6dcc4379.js"><link rel="prefetch" href="/assets/js/28.d2af346e.js"><link rel="prefetch" href="/assets/js/29.c44d1771.js"><link rel="prefetch" href="/assets/js/30.8bffd22f.js"><link rel="prefetch" href="/assets/js/31.c9395a3a.js"><link rel="prefetch" href="/assets/js/32.0db00775.js"><link rel="prefetch" href="/assets/js/4.b728e6f4.js"><link rel="prefetch" href="/assets/js/5.f305d5cb.js"><link rel="prefetch" href="/assets/js/6.9f3d2133.js"><link rel="prefetch" href="/assets/js/7.de88547a.js"><link rel="prefetch" href="/assets/js/8.675e70c4.js"><link rel="prefetch" href="/assets/js/9.876839a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5fbecda8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">unrealcode.net</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Making GIF Files with Unreal Engine</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/content/GIFFromUnreal.html#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#tools" class="sidebar-link">Tools</a></li></ul></li><li><a href="/content/GIFFromUnreal.html#recording-from-unreal-engine" class="sidebar-link">Recording from Unreal Engine</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#adding-a-master-sequence" class="sidebar-link">Adding a Master Sequence</a></li><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#aiming-the-camera" class="sidebar-link">Aiming the Camera</a></li><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#setting-the-gif-duration" class="sidebar-link">Setting the GIF Duration</a></li><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#rendering-to-png-files" class="sidebar-link">Rendering to PNG files</a></li><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#creating-the-gif-using-ffmpeg" class="sidebar-link">Creating the GIF using ffmpeg</a></li><li class="sidebar-sub-header"><a href="/content/GIFFromUnreal.html#references" class="sidebar-link">References</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1>Making GIF Files with Unreal Engine</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>This describes one approach to making GIF files from Unreal Engine.  This approach
is used to make the GIF files on this site.</p> <h3 id="tools"><a href="#tools" class="header-anchor">#</a> Tools</h3> <p>This approach uses Sequencer and ffmpeg.  Both Sequencer and ffmpeg have many, many
functions and options, here we use the bare minimum required to create a GIF.</p> <p>ffmpeg can be downloaded from <a href="https://ffmpeg.org/download.html" target="_blank" rel="noopener noreferrer">https://ffmpeg.org/download.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="recording-from-unreal-engine"><a href="#recording-from-unreal-engine" class="header-anchor">#</a> Recording from Unreal Engine</h2> <h3 id="adding-a-master-sequence"><a href="#adding-a-master-sequence" class="header-anchor">#</a> Adding a Master Sequence</h3> <p>We will be using a master sequence, which is an object which controls a collection of shots.  For the purposes of this exercise we will have only one shot.</p> <p>Assuming you are in the Unreal editor, click on the Cinematics button and select &quot;Add Master Sequence&quot;
like this:</p> <p><img src="/images/gifs_001.png" alt=""></p> <p>This dialog appears:</p> <p><img src="/images/gifs_002.png" alt=""></p> <p>Change the Number of Shots to 1 and click the &quot;Create Master Sequence&quot; button.</p> <p>Adding the master sequence opens the Sequencer tab like so:</p> <p><img src="/images/gifs_003.png" alt=""></p> <p>and adds a CineCameraActor object to the scene, visible in the Outliner window:</p> <p><img src="/images/gifs_004.png" alt=""></p> <p>The lightning bolt next to the actor in the outliner window indicates the camera is spawnable and so only exists in the scene
when sequencer is rendering.</p> <h3 id="aiming-the-camera"><a href="#aiming-the-camera" class="header-anchor">#</a> Aiming the Camera</h3> <p>One way of positioning the camera is to right click it in the outliner and select &quot;Pilot CineCameraActor&quot; and then change the view
to point the camera at scene you want rendered in the GIF:</p> <p><img src="/images/gifs_005.png" alt=""></p> <p>Once the camera is pointed where you want right click the camera again and select &quot;Stop Piloting CineCameraActor&quot;.</p> <h3 id="setting-the-gif-duration"><a href="#setting-the-gif-duration" class="header-anchor">#</a> Setting the GIF Duration</h3> <p>If it helps you can change the timeline from frame to seconds by clicking on the &quot;30 fps&quot; button:</p> <p><img src="/images/gifs_007.png" alt=""></p> <p>We need to do two things to change the length of the shot</p> <p>(1) In the sequencer window click the red line and drag it to the left to shorten the length of the camera cut:</p> <p><img src="/images/gifs_006.png" alt=""></p> <p>(2) Click the SequenceMaster button shown here:</p> <p><img src="/images/gifs_008.png" alt=""></p> <p>and drag the rightmost red line to change the length of the shot:</p> <p><img src="/images/gifs_009.png" alt=""></p> <h3 id="rendering-to-png-files"><a href="#rendering-to-png-files" class="header-anchor">#</a> Rendering to PNG files</h3> <p>We want to render each frame to a separate PNG file which will serve as the input to ffmpeg.</p> <p>Click the render button shown here:</p> <p><img src="/images/gifs_010.png" alt=""></p> <p>Change the render settings to the ones shown here:</p> <p><img src="/images/gifs_011.png" alt=""></p> <p>Particularly we changed these values from their defaults:</p> <ul><li>Image Output Format to Image Sequence</li> <li>Resolution to 1280 x 720</li> <li>Filename Format to {world}_{frame}, changing the default &quot;.&quot; to &quot;_&quot;</li> <li>Overwrite Existing (In Advanced) to checked, otherwise each time you capture frames the file names will change</li> <li>Delay Before Warm Up to 1.0s, otherwise the first frame can be blurred</li></ul> <p>Press the Capture Movie button.  Once capture is complete a notification popup appears and you can press &quot;Open Capture Folder&quot;
to open the directory where the PNG files were generated.</p> <h3 id="creating-the-gif-using-ffmpeg"><a href="#creating-the-gif-using-ffmpeg" class="header-anchor">#</a> Creating the GIF using ffmpeg</h3> <p>Assuming you have ffmpeg installed and on the path, there are two commands to run to create a GIF from
the set of image files created by Unreal.</p> <p>The example Unreal level used here was called &quot;MainMap&quot; - this provides the basis for the file names
created by the Capture Movie process - you will need to substitute your own map name in these commands.</p> <p>These steps are:</p> <ul><li>open a command window</li> <li>change to the directory containing the image files</li> <li>run this command to create a palette from the colours used in the first PNG file.<div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i MainMap_0001.png -vf palettegen palette.png -y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>run this command to create the GIF file<div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -framerate 24 -i Mainmap_%4d.png -i palette.png -y -filter_complex &quot;paletteuse[v];[v]scale=720:-1&quot; output.gif 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <p>The scale value changes the quality of the GIF, higher values mean better quality but a larger GIF file.  The framerate
specified should match the framerate used in the Render Movie Settings dialog.  The GIF below was recorded at 24fps and
created by ffmpeg at 12fps so it appears to be in slow motion.</p> <p>For example with &quot;scale=720&quot; the GIF below is 18.1 Mb:</p> <p><img src="/images/gifs_025.gif" alt=""></p> <p>Whereas with &quot;scale=360&quot; it is only GIF below was reduced to 4.5 Mb:</p> <p><img src="/images/gifs_024.gif" alt=""></p> <p>If you place these commands into a .bat file, you will need to change the &quot;%&quot; character to &quot;%%&quot; like so:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -framerate 24 -i Mainmap_%4d.png -i palette.png -y -filter_complex &quot;paletteuse[v];[v]scale=720:-1&quot; output.gif 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>becomes</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -framerate 24 -i Mainmap_%%4d.png -i palette.png -y -filter_complex &quot;paletteuse[v];[v]scale=720:-1&quot; output.gif 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="references"><a href="#references" class="header-anchor">#</a> References</h3> <p><a href="https://www.youtube.com/watch?v=5jHhIah8H7U" target="_blank" rel="noopener noreferrer">Sequencer Tutorial https://www.youtube.com/watch?v=5jHhIah8H7U<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://forums.unrealengine.com/t/using-the-sequencer-bad-first-frame-every-camera-change/447602/2" target="_blank" rel="noopener noreferrer">Sequencer Bad First Frame https://forums.unrealengine.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main> <footer class="f"><div><p>MIT Licensed | Copyright © 2020-2023 John Farrow</p></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.767e6ba3.js" defer></script><script src="/assets/js/3.5e27fb36.js" defer></script><script src="/assets/js/2.32bfe7ad.js" defer></script><script src="/assets/js/19.c591fda9.js" defer></script>
  </body>
</html>
