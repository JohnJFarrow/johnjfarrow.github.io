<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Python to Create a Chaos Vehicle | unrealcode.net</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Creating a chaos physics vehicle using a python script as far as possible">
    
    <link rel="preload" href="/assets/css/0.styles.95d6faab.css" as="style"><link rel="preload" href="/assets/js/app.d8b4b4a1.js" as="script"><link rel="preload" href="/assets/js/3.5e27fb36.js" as="script"><link rel="preload" href="/assets/js/2.32bfe7ad.js" as="script"><link rel="preload" href="/assets/js/18.4e9fd744.js" as="script"><link rel="prefetch" href="/assets/js/10.49e97280.js"><link rel="prefetch" href="/assets/js/11.6e4ef963.js"><link rel="prefetch" href="/assets/js/12.0d1be04c.js"><link rel="prefetch" href="/assets/js/13.75239821.js"><link rel="prefetch" href="/assets/js/14.c548a38f.js"><link rel="prefetch" href="/assets/js/15.138b018f.js"><link rel="prefetch" href="/assets/js/16.55a6646b.js"><link rel="prefetch" href="/assets/js/17.635cc5fd.js"><link rel="prefetch" href="/assets/js/19.2bd8461d.js"><link rel="prefetch" href="/assets/js/20.35129530.js"><link rel="prefetch" href="/assets/js/21.cd412d8a.js"><link rel="prefetch" href="/assets/js/22.cc2d5517.js"><link rel="prefetch" href="/assets/js/23.dd706ab5.js"><link rel="prefetch" href="/assets/js/24.d27ef46b.js"><link rel="prefetch" href="/assets/js/25.c3065073.js"><link rel="prefetch" href="/assets/js/26.4b8ed2a8.js"><link rel="prefetch" href="/assets/js/27.58db02ae.js"><link rel="prefetch" href="/assets/js/28.c7e0f63a.js"><link rel="prefetch" href="/assets/js/29.92d9386c.js"><link rel="prefetch" href="/assets/js/30.95efa1f7.js"><link rel="prefetch" href="/assets/js/31.fdd102ce.js"><link rel="prefetch" href="/assets/js/32.02ea25e3.js"><link rel="prefetch" href="/assets/js/33.784e631a.js"><link rel="prefetch" href="/assets/js/34.2ad04cd5.js"><link rel="prefetch" href="/assets/js/35.6feb19ba.js"><link rel="prefetch" href="/assets/js/36.c9f752f2.js"><link rel="prefetch" href="/assets/js/37.c646d76a.js"><link rel="prefetch" href="/assets/js/38.1ec014f8.js"><link rel="prefetch" href="/assets/js/39.c4f51f21.js"><link rel="prefetch" href="/assets/js/4.b728e6f4.js"><link rel="prefetch" href="/assets/js/40.82f96693.js"><link rel="prefetch" href="/assets/js/5.a48e27bc.js"><link rel="prefetch" href="/assets/js/6.9ff941c3.js"><link rel="prefetch" href="/assets/js/7.0e72a1a2.js"><link rel="prefetch" href="/assets/js/8.675e70c4.js"><link rel="prefetch" href="/assets/js/9.876839a1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.95d6faab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">unrealcode.net</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Using Python to Create a Chaos Vehicle</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/content/ChaosVehiclePython.html#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/content/ChaosVehiclePython.html#basics-of-python-in-the-unreal-engine-editor" class="sidebar-link">Basics of Python in the Unreal Engine Editor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#example-file" class="sidebar-link">Example File</a></li><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#entering-multiple-lines" class="sidebar-link">Entering multiple lines</a></li><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#checking-it-works" class="sidebar-link">Checking it works</a></li></ul></li><li><a href="/content/ChaosVehiclePython.html#python-developer-mode" class="sidebar-link">Python developer mode</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/content/ChaosVehiclePython.html#creating-a-new-level" class="sidebar-link">Creating a New Level</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/content/ChaosVehiclePython.html#making-meshes-from-fbx-files" class="sidebar-link">Making Meshes from FBX files</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/content/ChaosVehiclePython.html#making-a-blueprint" class="sidebar-link">Making a Blueprint</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#making-components" class="sidebar-link">Making Components</a></li><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#spawning-an-actor" class="sidebar-link">Spawning an Actor</a></li><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#adding-lighting" class="sidebar-link">Adding Lighting</a></li><li class="sidebar-sub-header"><a href="/content/ChaosVehiclePython.html#finally" class="sidebar-link">Finally</a></li></ul></li><li><a href="/content/ChaosVehiclePython.html#references" class="sidebar-link">References</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1>Using Python to Create a Chaos Vehicle</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>The Unreal Editor ships with python 3.9.7 embedded in it.  You do not need to install any other distribution of python, although it could be useful if you are running an external editor like pycharm.</p> <p>The Unreal Engine 5.1 python documentation is found at <a href="https://docs.unrealengine.com/5.1/en-US/PythonAPI/" target="_blank" rel="noopener noreferrer">https://docs.unrealengine.com/5.1/en-US/PythonAPI/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="basics-of-python-in-the-unreal-engine-editor"><a href="#basics-of-python-in-the-unreal-engine-editor" class="header-anchor">#</a> Basics of Python in the Unreal Engine Editor</h2> <p>To use python in Unreal Editor first make sure these plugins are enabled:</p> <ul><li>&quot;Python Editor Script Plugin&quot;</li> <li>&quot;Editor Scripting Utilities&quot;</li> <li>&quot;Chaos Vehicle Plugin&quot;</li></ul> <p>We will be editing python commands in a file external to Unreal and executing it from the command line at the bottom of the Output Log window:</p> <p><img src="/images/python_001.png" alt=""></p> <p>To tell Unreal which directory your python files will be loaded from, use the <code>Edit | Project Settings...</code> menu option, then type &quot;python&quot; in the filter text box.  You should see a window like this one:</p> <p><img src="/images/python_002.png" alt=""></p> <p>Click the &quot;+&quot; next to the Additional Paths and add the location of your files.  You may need to restart the editor after this.</p> <h3 id="example-file"><a href="#example-file" class="header-anchor">#</a> Example File</h3> <p>To test the basic loading of python scripts do the following:</p> <ul><li>make a directory called &quot;python&quot; underneath your projects content directory</li> <li>add the python directory to the Additional Paths array as described above</li> <li>download the file <a href="/make_vehicle.py">make_vehicle.py</a> and save it into your content/python directory.</li></ul> <p>To load the make_vehicle.py script in Unreal, use the command line at the bottom of the Output Log window as shown here:</p> <p><img src="/images/python_003.png" alt=""></p> <p>Make sure the drop-down list on the left of the command line says &quot;Python&quot;,
and enter this command:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> make_vehicle <span class="token keyword">as</span> MW
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>In order to change the file externally and reload it, we need to run this command once:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> importlib <span class="token keyword">import</span> <span class="token builtin">reload</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>and then each time we change the file we can type</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token builtin">reload</span><span class="token punctuation">(</span>MW<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>to reload it.</p> <h3 id="entering-multiple-lines"><a href="#entering-multiple-lines" class="header-anchor">#</a> Entering multiple lines</h3> <p>To test multiple lines of code you can type them  in the command line by separating them with shift-enter, for example you can type</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> unreal
<span class="token keyword">print</span><span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>LayersSubsystem<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_world<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>as one command.  To repeatedly reload the python file from disk and execute it you can enter
this as one command (with shift-enter between the lines):</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token builtin">reload</span><span class="token punctuation">(</span>MW<span class="token punctuation">)</span>
MW<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The example python file contains multiple functions, so you can call the ones you want using a multi-line scripts like so:</p> <p><img src="/images/python_004.png" alt=""></p> <h3 id="checking-it-works"><a href="#checking-it-works" class="header-anchor">#</a> Checking it works</h3> <p>At the top of the example python file are these lines:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> unreal

<span class="token keyword">def</span> <span class="token function">check_loaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;make_vehicle.py loaded ok&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>so to check everything is working we can type: (use shift-enter to insert a line break)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token builtin">reload</span><span class="token punctuation">(</span>MW<span class="token punctuation">)</span>
MW<span class="token punctuation">.</span>check_loaded<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>and we should see this in the Output Log:</p> <p><img src="/images/python_003.png" alt=""></p> <h2 id="python-developer-mode"><a href="#python-developer-mode" class="header-anchor">#</a> Python developer mode</h2> <p>You can enable python developer mode in the Unreal Editor by using Edit | Editor Preferences ... then
typing &quot;python&quot; in the search bar at the top, then tick the &quot;Developer Mode&quot; property like so:</p> <p><img src="/images/python_020.png" alt=""></p> <p>This will require the editor to restart.  When it does restart you will see a message like
this in the Output log window:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>LogPython: Display: Generating Python API stub file...
LogPython: Display:   ...generating Python API: glue code
LogPython: Display:   ...generating Python API: additional code
LogPython: Display:   ...generated: d:/tmp/PythonTest1/Intermediate/PythonStub/unreal.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The generated unreal.py file contains documentation for all the enums, structs, classes
and functions usable from python. For example if you search it for
&quot;class ChaosVehicleWheel&quot; you can see all the properties which
can be set:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>class ChaosVehicleWheel(Object):
    r&quot;&quot;&quot;
    Chaos Vehicle Wheel
    
    **C++ Source:**
    
    - **Plugin**: ChaosVehiclesPlugin
    - **Module**: ChaosVehicles
    - **File**: ChaosVehicleWheel.h
    
    **Editor Properties:** (see get_editor_property/set_editor_property)
    
    - ``abs_enabled`` (bool):  [Read-Write] ABSEnabled:
      Advanced Braking System Enabled
    - ``affected_by_brake`` (bool):  [Read-Write] Affected by Brake:
      Whether brake should affect this wheel
    - ``affected_by_engine`` (bool):  [Read-Write] Affected by Engine:
      Whether engine should power this wheel
    - ``affected_by_handbrake`` (bool):  [Read-Write] Affected by Handbrake:
      Whether handbrake should affect this wheel
    - ``affected_by_steering`` (bool):  [Read-Write] Affected by Steering:
      Whether steering should affect this wheel
    - ``axle_type`` (AxleType):  [Read-Write] Axle Type:
      If left undefined then the bAffectedByEngine value is used, if defined then bAffectedByEngine is ignored and the differential setup on the vehicle defines which wheels get power from the engine
    - ``collision_mesh`` (StaticMesh):  [Read-Write] Collision Mesh:
    ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>So its useful to search for what classes can be used from python.<br>
It can also be used for autocomplete.  If you are using Visual Studio Code you can add these
lines to settings.json:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;python.autoComplete.extraPaths&quot;: [
    &quot;d:/tmp/PythonTest1/Intermediate/PythonStub&quot;
],
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="creating-a-new-level"><a href="#creating-a-new-level" class="header-anchor">#</a> Creating a New Level</h2> <p>This is the code to create a new level, in a function which takes the level path.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">new_level</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    ELL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>EditorLevelLibrary<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ELL<span class="token punctuation">.</span>new_level<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>It could be called from the Unreal command line like this:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>MW<span class="token punctuation">.</span>new_level<span class="token punctuation">(</span><span class="token string">&quot;/Game/Levels/NewLevel01&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will generate output similar to this in the Output Log window:</p> <blockquote><p>Cmd: OBJ SAVEPACKAGE PACKAGE=&quot;/Game/Levels/NewLevel&quot; FILE=&quot;../../../../../../tmp/Content/Levels/NewLevel.umap&quot; SILENT=true AUTOSAVING=false KEEPDIRTY=false
LogUObjectHash: Compacting FUObjectHashTables data took   0.32ms<br>
LogSavePackage: Moving output files for package: /Game/Levels/NewLevel<br>
LogSavePackage: Moving '../../../../../../tmp/MyProject9/Saved/NewLevelF447BBBC4C547A0F0EA7F39017B7A537.tmp' to '../../../../../../tmp/MyProject9/Content/Levels/NewLevel.umap'<br>
LogFileHelpers: Saving map 'NewLevel' took 0.072<br>
AssetCheck: New page: Asset Save: NewLevel<br>
LogContentValidation: Display: Validating World /Game/Levels/NewLevel.NewLevel</p></blockquote> <p>If the level already exists it will generate an error like this:</p> <blockquote><p>LevelEditorSubsystem: Error: NewLevel. Failed to validate the destination. An asset already exists at this location.</p></blockquote> <h2 id="making-meshes-from-fbx-files"><a href="#making-meshes-from-fbx-files" class="header-anchor">#</a> Making Meshes from FBX files</h2> <p>This is the code used to import a set of .fbx files into Static Mesh objects:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">build_options</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> unreal<span class="token punctuation">.</span>FbxImportUI<span class="token punctuation">:</span>
    options <span class="token operator">=</span> unreal<span class="token punctuation">.</span>FbxImportUI<span class="token punctuation">(</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'import_mesh'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'import_textures'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'import_materials'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'import_as_skeletal'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>static_mesh_import_data<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'import_uniform_scale'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token number">1.0</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>static_mesh_import_data<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'combine_meshes'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>static_mesh_import_data<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'auto_generate_collision'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span> <span class="token punctuation">)</span>
    <span class="token keyword">return</span> options


<span class="token keyword">def</span> <span class="token function">build_import_task</span><span class="token punctuation">(</span>mesh_name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
                      filename<span class="token punctuation">:</span> Path<span class="token punctuation">,</span>
                      destination_path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
                      options<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>FbxImportUI <span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> unreal<span class="token punctuation">.</span>AssetImportTask<span class="token punctuation">:</span>
    task <span class="token operator">=</span> unreal<span class="token punctuation">.</span>AssetImportTask<span class="token punctuation">(</span><span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'automated'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'destination_name'</span><span class="token punctuation">,</span> value<span class="token operator">=</span>mesh_name<span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'destination_path'</span><span class="token punctuation">,</span> value<span class="token operator">=</span>destination_path<span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'filename'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span> <span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'replace_existing'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'replace_existing_settings'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'save'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    task<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">'options'</span><span class="token punctuation">,</span> value<span class="token operator">=</span>options<span class="token punctuation">)</span>
    <span class="token keyword">return</span> task


<span class="token keyword">def</span> <span class="token function">import_static_meshes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    mesh_data<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">,</span> Path<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;SM_Arm&quot;</span><span class="token punctuation">:</span> Path<span class="token punctuation">(</span><span class="token string">&quot;C:\\work\\TrebBlender\\Arm.0040_6.fbx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SM_Ramp&quot;</span><span class="token punctuation">:</span> Path<span class="token punctuation">(</span><span class="token string">&quot;C:\\work\\TrebBlender\\Ramp.fbx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SM_Weight&quot;</span><span class="token punctuation">:</span> Path<span class="token punctuation">(</span><span class="token string">&quot;C:\\work\\TrebBlender\\Weight.004_2.fbx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&quot;SM_Base&quot;</span><span class="token punctuation">:</span> Path<span class="token punctuation">(</span><span class="token string">&quot;C:\\work\\TrebBlender\\Base.004_3.fbx&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    options<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>FbxImportUI <span class="token operator">=</span> build_options<span class="token punctuation">(</span><span class="token punctuation">)</span>

    tasks<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">[</span>Unreal<span class="token punctuation">.</span>task<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        build_import_task<span class="token punctuation">(</span>mesh_name<span class="token operator">=</span>mesh_name<span class="token punctuation">,</span> filename<span class="token operator">=</span>path<span class="token punctuation">,</span> destination_path<span class="token operator">=</span><span class="token string">&quot;/Game/Meshes&quot;</span><span class="token punctuation">,</span> options<span class="token operator">=</span>options<span class="token punctuation">)</span> 
        <span class="token keyword">for</span> mesh_name<span class="token punctuation">,</span> path <span class="token keyword">in</span> mesh_data<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

    unreal<span class="token punctuation">.</span>AssetToolsHelpers<span class="token punctuation">.</span>get_asset_tools<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>import_asset_tasks<span class="token punctuation">(</span>tasks<span class="token punctuation">)</span>

    <span class="token comment"># make the base use complex mesh for collision, so it does not collide with the weight</span>
    mesh<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>StaticMesh <span class="token operator">=</span> load_mesh<span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">&quot;/Game/Meshes/SM_Base&quot;</span><span class="token punctuation">)</span>
    body_setup<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>BodySetup <span class="token operator">=</span> mesh<span class="token punctuation">.</span>get_editor_property<span class="token punctuation">(</span><span class="token string">&quot;body_setup&quot;</span><span class="token punctuation">)</span>
    body_setup<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;collision_trace_flag&quot;</span><span class="token punctuation">,</span> 
                                   value<span class="token operator">=</span>unreal<span class="token punctuation">.</span>CollisionTraceFlag<span class="token punctuation">.</span>CTF_USE_COMPLEX_AS_SIMPLE <span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p>Basically what is does is create a <code>unreal.AssetImportTask()</code> for each fbx file
and then execute it to create a StaticMesh in the &quot;/Game/Meshes&quot; directory.</p> <p>We treat the SM_Base mesh differently.  We want to set the &quot;Collision Complexity&quot;
property to &quot;Use Complex Collision as Simple&quot;. This involves getting the &quot;body_setup&quot;
property from the mesh and updating it.  It is not necessary to set the &quot;body_setup&quot;
property back on the mesh - we have reference to the body_setup property rather than a copy of it.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>mesh<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>StaticMesh <span class="token operator">=</span> load_mesh<span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">&quot;/Game/Meshes/SM_Base&quot;</span><span class="token punctuation">)</span>
body_setup<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>BodySetup <span class="token operator">=</span> mesh<span class="token punctuation">.</span>get_editor_property<span class="token punctuation">(</span><span class="token string">&quot;body_setup&quot;</span><span class="token punctuation">)</span>
body_setup<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;collision_trace_flag&quot;</span><span class="token punctuation">,</span> 
                               value<span class="token operator">=</span>unreal<span class="token punctuation">.</span>CollisionTraceFlag<span class="token punctuation">.</span>CTF_USE_COMPLEX_AS_SIMPLE <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="making-a-blueprint"><a href="#making-a-blueprint" class="header-anchor">#</a> Making a Blueprint</h2> <p>This section shows how to make a new blueprint class, how to add components to it, and to set the properties on those components.</p> <p>The code for making a blueprint is:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">make_blueprint</span><span class="token punctuation">(</span>package_path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> asset_name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    factory <span class="token operator">=</span> unreal<span class="token punctuation">.</span>BlueprintFactory<span class="token punctuation">(</span><span class="token punctuation">)</span>
    factory<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;parent_class&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>unreal<span class="token punctuation">.</span>Actor<span class="token punctuation">)</span>

    asset_tools<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>AssetTools <span class="token operator">=</span> unreal<span class="token punctuation">.</span>AssetToolsHelpers<span class="token punctuation">.</span>get_asset_tools<span class="token punctuation">(</span><span class="token punctuation">)</span>

    asset<span class="token punctuation">:</span> Object <span class="token operator">=</span> asset_tools<span class="token punctuation">.</span>create_asset<span class="token punctuation">(</span>asset_name<span class="token operator">=</span>asset_name<span class="token punctuation">,</span> 
                                             package_path<span class="token operator">=</span>package_path<span class="token punctuation">,</span> 
                                             asset_class<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> 
                                             factory<span class="token operator">=</span>factory<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>asset<span class="token punctuation">,</span> unreal<span class="token punctuation">.</span>Blueprint<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;Failed to create blueprint asset&quot;</span><span class="token punctuation">)</span>
    blueprint<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Blueprint <span class="token operator">=</span> asset <span class="token comment"># noqa</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>This is called by passing in the location where the blueprint will be created
and its name, like so:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>package_path <span class="token operator">=</span> <span class="token string">&quot;/Game/Blueprints&quot;</span>
asset_name <span class="token operator">=</span> <span class="token string">&quot;BP_Trebuchet20&quot;</span>
MW<span class="token punctuation">.</span>make_blueprint<span class="token punctuation">(</span> package_path<span class="token punctuation">,</span> asset_name <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="making-components"><a href="#making-components" class="header-anchor">#</a> Making Components</h3> <p>In the Unreal forums there is a snippet showing <a href="https://dev.epicgames.com/community/snippets/dV5/add-a-component-with-blueprint-script-in-the-editor" target="_blank" rel="noopener noreferrer">how to add components to
a blueprint using blueprint script<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.  The code below
follows a similar approach except it uses python instead of blueprints.</p> <p>First we get the subsystem which is used to create components (aka subobjects):</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>subsystem<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>SubobjectDataSubsystem 
     <span class="token operator">=</span> unreal<span class="token punctuation">.</span>get_engine_subsystem<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>SubobjectDataSubsystem<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="handles"><a href="#handles" class="header-anchor">#</a> Handles</h4> <p>The Unreal python API distinguishes between an object and a handle.</p> <p>Conceptually, a python variable
(for example of type <code>unreal.Object</code>) holds a direct reference to an object.</p> <p>A handle (of type <code>unreal.SubobjectDataHandle</code>) holds a unique identifier for an object, not the object itself. We need to bear in mind that we can
have a handle which is invalid.  It might refer to an object which no longer exists, for example it was deleted after we obtained the handle, or perhaps the handle
was created without associating an object with it.</p> <p>We have put the code for creating a component in a separate function:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">add_subobject</span><span class="token punctuation">(</span>subsystem<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>SubobjectDataSubsystem<span class="token punctuation">,</span>
                  blueprint<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Blueprint<span class="token punctuation">,</span>
                  new_class<span class="token punctuation">,</span>
                  name<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span> unreal<span class="token punctuation">.</span>SubobjectDataHandle<span class="token punctuation">,</span> unreal<span class="token punctuation">.</span>Object <span class="token punctuation">)</span><span class="token punctuation">:</span>

    root_data_handle<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>SubobjectDataHandle <span class="token operator">=</span> 
         subsystem<span class="token punctuation">.</span>k2_gather_subobject_data_for_blueprint<span class="token punctuation">(</span>context<span class="token operator">=</span>blueprint<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    sub_handle<span class="token punctuation">,</span> fail_reason <span class="token operator">=</span> subsystem<span class="token punctuation">.</span>add_new_subobject<span class="token punctuation">(</span>
        params<span class="token operator">=</span>unreal<span class="token punctuation">.</span>AddNewSubobjectParams<span class="token punctuation">(</span>
            parent_handle<span class="token operator">=</span>root_data_handle<span class="token punctuation">,</span>
            new_class<span class="token operator">=</span>new_class<span class="token punctuation">,</span>
            blueprint_context<span class="token operator">=</span>blueprint<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> <span class="token keyword">not</span> fail_reason<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;ERROR from sub_object_subsystem.add_new_subobject: {fail_reason}&quot;</span><span class="token punctuation">)</span>

    subsystem<span class="token punctuation">.</span>rename_subobject<span class="token punctuation">(</span>handle<span class="token operator">=</span>sub_handle<span class="token punctuation">,</span> new_name<span class="token operator">=</span>unreal<span class="token punctuation">.</span>Text<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
    subsystem<span class="token punctuation">.</span>attach_subobject<span class="token punctuation">(</span>owner_handle<span class="token operator">=</span>root_data_handle<span class="token punctuation">,</span> child_to_add_handle<span class="token operator">=</span>sub_handle<span class="token punctuation">)</span>

    BFL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>SubobjectDataBlueprintFunctionLibrary
    obj<span class="token punctuation">:</span> Object <span class="token operator">=</span> BFL<span class="token punctuation">.</span>get_object<span class="token punctuation">(</span>BFL<span class="token punctuation">.</span>get_data<span class="token punctuation">(</span>sub_handle<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> sub_handle<span class="token punctuation">,</span> obj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>We pass this function:</p> <ul><li>the subsystem which is used to create components</li> <li>the blueprint we want the component added to</li> <li>the class of the component we want created, such as <code>unreal.StaticMeshComponent</code></li> <li>the name of the new component</li></ul> <p>The function returns both the handle to the object and the new object itself.</p> <p>The function calls <code>subsystem.add_new_subobject()</code> to create the component,
and then we use these lines to get the object from the handle:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>BFL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>SubobjectDataBlueprintFunctionLibrary
obj <span class="token operator">=</span> BFL<span class="token punctuation">.</span>get_object<span class="token punctuation">(</span>BFL<span class="token punctuation">.</span>get_data<span class="token punctuation">(</span>sub_handle<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>We return both the handle and the object because we need the handle
to position the new component as a child of other components, and
we need to object to set properties on it.</p> <h4 id="creating-components"><a href="#creating-components" class="header-anchor">#</a> Creating Components</h4> <p>The code for creating different types of subcomponents and setting their properties is below.</p> <p>For a Static Mesh Component we do this:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sub_handle<span class="token punctuation">,</span> weight <span class="token operator">=</span> add_subobject<span class="token punctuation">(</span>subsystem<span class="token operator">=</span>subsystem<span class="token punctuation">,</span> 
                                   blueprint<span class="token operator">=</span>blueprint<span class="token punctuation">,</span> 
                                   new_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>StaticMeshComponent<span class="token punctuation">,</span> 
                                   name<span class="token operator">=</span><span class="token string">&quot;Weight&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>weight<span class="token punctuation">,</span> unreal<span class="token punctuation">.</span>StaticMeshComponent<span class="token punctuation">)</span>
mesh<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>StaticMesh <span class="token operator">=</span> load_mesh<span class="token punctuation">(</span>path<span class="token operator">=</span><span class="token string">&quot;/Game/Meshes/SM_Weight&quot;</span><span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_static_mesh<span class="token punctuation">(</span>new_mesh<span class="token operator">=</span>mesh<span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;mobility&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>unreal<span class="token punctuation">.</span>ComponentMobility<span class="token punctuation">.</span>MOVABLE<span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;relative_location&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>unreal<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">165.0</span><span class="token punctuation">,</span> <span class="token number">640.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_simulate_physics<span class="token punctuation">(</span>simulate<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_enable_gravity<span class="token punctuation">(</span>gravity_enabled<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_mass_override_in_kg<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>Name<span class="token punctuation">(</span><span class="token string">&quot;NAME_None&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4506</span><span class="token punctuation">)</span>
weight<span class="token punctuation">.</span>set_collision_profile_name<span class="token punctuation">(</span>collision_profile_name<span class="token operator">=</span>PhysicsActor<span class="token punctuation">)</span>
subsystem<span class="token punctuation">.</span>attach_subobject<span class="token punctuation">(</span> base_handle<span class="token punctuation">,</span> sub_handle <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>For a Physics Constraint Component we do this:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># ArmBaseConstraint</span>
sub_handle<span class="token punctuation">,</span> arm_base <span class="token operator">=</span> add_subobject<span class="token punctuation">(</span>subsystem<span class="token operator">=</span>subsystem<span class="token punctuation">,</span> 
                                     blueprint<span class="token operator">=</span>blueprint<span class="token punctuation">,</span> 
                                     new_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>PhysicsConstraintComponent<span class="token punctuation">,</span> 
                                     name<span class="token operator">=</span><span class="token string">&quot;ArmBaseConstraint&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>arm_base<span class="token punctuation">,</span> unreal<span class="token punctuation">.</span>PhysicsConstraintComponent<span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;relative_location&quot;</span><span class="token punctuation">,</span> 
    value<span class="token operator">=</span>unreal<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token number">10.000000</span><span class="token punctuation">,</span> <span class="token number">0.000000</span><span class="token punctuation">,</span> <span class="token number">740.000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;component_name1&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>ccBase<span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;component_name2&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>ccArm<span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_linear_x_limit<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>LinearConstraintMotion<span class="token punctuation">.</span>LCM_LOCKED<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_linear_y_limit<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>LinearConstraintMotion<span class="token punctuation">.</span>LCM_LOCKED<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_linear_z_limit<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>LinearConstraintMotion<span class="token punctuation">.</span>LCM_LOCKED<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_angular_swing1_limit<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>AngularConstraintMotion<span class="token punctuation">.</span>ACM_LOCKED<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_angular_swing2_limit<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>AngularConstraintMotion<span class="token punctuation">.</span>ACM_LOCKED<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_angular_twist_limit<span class="token punctuation">(</span>unreal<span class="token punctuation">.</span>AngularConstraintMotion<span class="token punctuation">.</span>ACM_FREE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
arm_base<span class="token punctuation">.</span>set_disable_collision<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
subsystem<span class="token punctuation">.</span>attach_subobject<span class="token punctuation">(</span> base_handle<span class="token punctuation">,</span> sub_handle <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="note-on-component-names"><a href="#note-on-component-names" class="header-anchor">#</a> Note on Component Names</h4> <p>Physics Constraint Components need to know the names of the components
they are connected to.</p> <p>In c++ this is done by calling SetConstrainedComponents() and passing in
the two components like this:</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>Base <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UStaticMeshComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;Base&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Arm <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UStaticMeshComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;Arm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ArmBaseConstraint <span class="token operator">=</span> 
   <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span> UPhysicsConstraintComponent <span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;ArmBaseConstraint&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ArmBaseConstraint<span class="token operator">-&gt;</span><span class="token function">SetConstrainedComponents</span><span class="token punctuation">(</span> Base<span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Arm<span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>From the  <a href="https://docs.unrealengine.com/5.0/en-US/PythonAPI/class/PhysicsConstraintComponent.html" target="_blank" rel="noopener noreferrer">python documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
it looks as though the same approach would work, namely:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sub_handle<span class="token punctuation">,</span> base <span class="token operator">=</span> add_subobject<span class="token punctuation">(</span>subsystem<span class="token operator">=</span>subsystem<span class="token punctuation">,</span> 
                                   blueprint<span class="token operator">=</span>blueprint<span class="token punctuation">,</span> 
                                   new_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>StaticMeshComponent<span class="token punctuation">,</span> 
                                   name<span class="token operator">=</span><span class="token string">&quot;Base&quot;</span><span class="token punctuation">)</span>
sub_handle<span class="token punctuation">,</span> arm <span class="token operator">=</span> add_subobject<span class="token punctuation">(</span>subsystem<span class="token operator">=</span>subsystem<span class="token punctuation">,</span> 
                                   blueprint<span class="token operator">=</span>blueprint<span class="token punctuation">,</span> 
                                   new_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>StaticMeshComponent<span class="token punctuation">,</span> 
                                   name<span class="token operator">=</span><span class="token string">&quot;Arm&quot;</span><span class="token punctuation">)</span>
sub_handle<span class="token punctuation">,</span> constraint <span class="token operator">=</span> add_subobject<span class="token punctuation">(</span>subsystem<span class="token operator">=</span>subsystem<span class="token punctuation">,</span> 
                                     blueprint<span class="token operator">=</span>blueprint<span class="token punctuation">,</span> 
                                     new_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>PhysicsConstraintComponent<span class="token punctuation">,</span> 
                                     name<span class="token operator">=</span><span class="token string">&quot;ArmBaseConstraint&quot;</span><span class="token punctuation">)</span>
constraint<span class="token punctuation">.</span>set_constrained_components<span class="token punctuation">(</span> base<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> arm<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>But this does not work.  If we use the c++ code, the constraint ends up
referencing a component named &quot;Base&quot;, which is what we want, but using the python
code it ends up a component name of &quot;Base_GEN_VARIABLE&quot; for some reason.</p> <p>So we have to use the <code>set_editor_property()</code> call to specify each constrained component name
and that takes an object of type <code>unreal.ConstrainComponentPropName</code>, so we have to
make those objects like so:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">make_component_name</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> unreal<span class="token punctuation">.</span>ConstrainComponentPropName<span class="token punctuation">:</span>
    cc <span class="token operator">=</span> unreal<span class="token punctuation">.</span>ConstrainComponentPropName<span class="token punctuation">(</span><span class="token punctuation">)</span>
    cc<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;component_name&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>name<span class="token punctuation">)</span>
    <span class="token keyword">return</span> cc

ccBase <span class="token operator">=</span> make_component_name<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Base&quot;</span><span class="token punctuation">)</span>
ccArm <span class="token operator">=</span> make_component_name<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Arm&quot;</span><span class="token punctuation">)</span>

constraint<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;component_name1&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>ccBase<span class="token punctuation">)</span>
constraint<span class="token punctuation">.</span>set_editor_property<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;component_name2&quot;</span><span class="token punctuation">,</span> value<span class="token operator">=</span>ccArm<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="spawning-an-actor"><a href="#spawning-an-actor" class="header-anchor">#</a> Spawning an Actor</h3> <p>To create an instance of the new blueprint in the world we do this:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">spawn</span><span class="token punctuation">(</span>package_path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> asset_name<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># spawn actor on map</span>
    EAL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>EditorAssetLibrary
    ELL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>EditorLevelLibrary
    blueprint_class <span class="token operator">=</span> EAL<span class="token punctuation">.</span>load_blueprint_class<span class="token punctuation">(</span> asset_path<span class="token operator">=</span>package_path <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> asset_name <span class="token punctuation">)</span>
    <span class="token keyword">assert</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>blueprint_class<span class="token punctuation">,</span> unreal<span class="token punctuation">.</span>BlueprintGeneratedClass <span class="token punctuation">)</span>
    location <span class="token operator">=</span> unreal<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    rotation <span class="token operator">=</span> <span class="token punctuation">(</span>location <span class="token operator">-</span> location<span class="token punctuation">)</span><span class="token punctuation">.</span>rotator<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span>actor_class<span class="token operator">=</span>blueprint_class<span class="token punctuation">,</span> location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>To spawn a PlayerStart object we do this:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">spawn_player_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># spawn actor on map</span>
    ELL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>EditorLevelLibrary
    location <span class="token operator">=</span> unreal<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    rotation <span class="token operator">=</span> unreal<span class="token punctuation">.</span>Rotator<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span>
    ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span> actor_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>PlayerStart<span class="token punctuation">,</span> 
        location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="adding-lighting"><a href="#adding-lighting" class="header-anchor">#</a> Adding Lighting</h3> <p>This code constructs some lighting objects so we can see the scene and check it works:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">create_lights</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    ELL <span class="token operator">=</span> unreal<span class="token punctuation">.</span>EditorLevelLibrary
    location <span class="token operator">=</span> unreal<span class="token punctuation">.</span>Vector<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    rotation <span class="token operator">=</span> unreal<span class="token punctuation">.</span>Rotator<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span>

    skylight<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Actor <span class="token operator">=</span> ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span> actor_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>SkyLight<span class="token punctuation">,</span> location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>
    atmos_light<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Actor <span class="token operator">=</span> ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span> actor_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>DirectionalLight<span class="token punctuation">,</span> location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>
    atmos<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Actor <span class="token operator">=</span> ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span> actor_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>SkyAtmosphere<span class="token punctuation">,</span> location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>
    cloud<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Actor <span class="token operator">=</span> ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span> actor_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>VolumetricCloud<span class="token punctuation">,</span> location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>
    fog<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>Actor <span class="token operator">=</span> ELL<span class="token punctuation">.</span>spawn_actor_from_class<span class="token punctuation">(</span> actor_class<span class="token operator">=</span>unreal<span class="token punctuation">.</span>ExponentialHeightFog<span class="token punctuation">,</span> location<span class="token operator">=</span>location<span class="token punctuation">,</span> rotation<span class="token operator">=</span>rotation<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>atmos_light<span class="token punctuation">,</span> unreal<span class="token punctuation">.</span>DirectionalLight<span class="token punctuation">)</span><span class="token punctuation">:</span>
        dlc<span class="token punctuation">:</span> unreal<span class="token punctuation">.</span>DirectionalLightComponent <span class="token operator">=</span> atmos_light<span class="token punctuation">.</span>get_editor_property<span class="token punctuation">(</span><span class="token string">&quot;directional_light_component&quot;</span><span class="token punctuation">)</span>
        dlc<span class="token punctuation">.</span>set_intensity<span class="token punctuation">(</span>new_intensity<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="finally"><a href="#finally" class="header-anchor">#</a> Finally</h3> <p>The python script we have been looking at is divided up in functions both to simplify it and so
the functions can be called separately while testing.  The script also contains a
single function show below which creates the map, imports the meshes, creates
a new blueprint and sets up the scene so all we have to do is press play:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">create_everything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    level_name <span class="token operator">=</span> <span class="token string">&quot;/Game/Levels/NewLevel24&quot;</span>
    package_path <span class="token operator">=</span> <span class="token string">&quot;/Game/Blueprints&quot;</span>
    asset_name <span class="token operator">=</span> <span class="token string">&quot;BP_Trebuchet24&quot;</span>

    new_level<span class="token punctuation">(</span>name<span class="token operator">=</span>level_name<span class="token punctuation">)</span>
    set_current_level<span class="token punctuation">(</span>name<span class="token operator">=</span>level_name<span class="token punctuation">)</span>
    import_static_meshes<span class="token punctuation">(</span><span class="token punctuation">)</span>
    make_blueprint<span class="token punctuation">(</span> package_path<span class="token operator">=</span>package_path<span class="token punctuation">,</span> asset_name<span class="token operator">=</span>asset_name <span class="token punctuation">)</span>
    spawn<span class="token punctuation">(</span> package_path<span class="token operator">=</span>package_path<span class="token punctuation">,</span> asset_name<span class="token operator">=</span>asset_name <span class="token punctuation">)</span>
    spawn_player_start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    create_lights<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>If we run this script like so:</p> <p><img src="/images/python_012.png" alt=""></p> <p>The we can see the new level with the trebuchet actor and the lighting:</p> <p><img src="/images/python_013.png" alt=""></p> <p>And if we press play we can see the blueprint working:</p> <p><img src="/images/python_014.gif" alt=""></p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p><a href="https://www.youtube.com/watch?app=desktop&amp;v=Wc6lUXOhRO0" target="_blank" rel="noopener noreferrer">Epic Exploring Chaos Vehicles<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main> <footer class="f"><div><p>MIT Licensed | Copyright © 2020-2023 John Farrow</p></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d8b4b4a1.js" defer></script><script src="/assets/js/3.5e27fb36.js" defer></script><script src="/assets/js/2.32bfe7ad.js" defer></script><script src="/assets/js/18.4e9fd744.js" defer></script>
  </body>
</html>
